/* ============================================
   КАСТОМНЫЕ ИСПРАВЛЕНИЯ БАГОВ
   ============================================ */

/* 1. Исправление блюра верхнего бара */
[style*="backdrop-filter"],
div[style*="backdrop-filter: blur"],
div[style*="backdrop-filter"] {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

/* Исправление блюра для верхнего бара */
.toolbar,
[class*="toolbar"],
[class*="header"],
[class*="top-bar"],
[class*="navbar"] {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  background-color: rgba(255, 255, 255, 0.98) !important;
}

/* Исправление блюра для модальных окон - только для фона */
div[style*="backdrop-filter"]:not([class*="content"]) {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  background-color: rgba(255, 255, 255, 0.95) !important;
}

/* 2. Исправление кнопки "Купить" - убираем выход зеленой подсветки за рамки */
button[class*="buy"],
a[class*="buy"],
button[class*="Buy"],
a[class*="Buy"],
button[class*="button"][class*="green"],
a[class*="button"][class*="green"] {
  overflow: hidden !important;
  position: relative !important;
  border-radius: inherit !important;
}

/* Зеленая подсветка при наведении - в границах кнопки */
button[class*="buy"]:hover,
a[class*="buy"]:hover,
button[class*="Buy"]:hover,
a[class*="Buy"]:hover {
  background-color: #00a651 !important;
  color: white !important;
  box-shadow: none !important;
  overflow: hidden !important;
  border-radius: inherit !important;
  outline: none !important;
}

/* Убираем белый фон у кнопки "Купить" */
button[class*="buy"],
a[class*="buy"] {
  background-color: transparent !important;
}

button[class*="buy"]:hover,
a[class*="buy"]:hover {
  background-color: #00a651 !important;
}

/* Общие исправления для всех кнопок */
button,
a[class*="button"] {
  overflow: hidden !important;
  border-radius: 8px !important;
}

button:hover,
a[class*="button"]:hover {
  box-shadow: none !important;
  outline: none !important;
}

/* 3. Улучшение стиля текста "Скоро тут будет продолжение" */
/* Используем общие стили для текстовых элементов, которые могут содержать этот текст */
div[class*="text"],
p[class*="text"],
span[class*="text"],
.rmwidget[class*="text"] {
  font-size: inherit !important;
}

/* Специфичные стили для элементов с текстом о продолжении (применится через JS или классы) */
.coming-soon-text,
[data-text*="Скоро"],
[data-text*="скоро"] {
  font-size: 18px !important;
  font-weight: 400 !important;
  color: #666 !important;
  font-style: italic !important;
  letter-spacing: 0.5px !important;
  line-height: 1.6 !important;
  opacity: 0.8 !important;
  text-align: center !important;
  padding: 20px !important;
}

/* 4. Замедление всех анимаций - увеличение transition duration */
*,
*::before,
*::after {
  transition-duration: 0.4s !important;
  transition-delay: 0s !important;
  animation-duration: 0.6s !important;
}

/* Для специфичных элементов с быстрой анимацией */
button,
a,
div[class*="animation"],
div[class*="transition"],
[style*="transition"],
[style*="animation"] {
  transition-duration: 0.4s !important;
  transition-timing-function: ease-in-out !important;
}

/* Увеличиваем время анимации для конкретных классов */
.animation-container,
[class*="animation"],
[class*="transition"] {
  animation-duration: 0.6s !important;
  transition-duration: 0.4s !important;
}

/* 5. Исправление потухшей анимации на мобилке */
@media (max-width: 768px) {
  * {
    animation-play-state: running !important;
    will-change: auto !important;
  }
  
  [class*="animation"],
  [style*="animation"],
  .animation-container {
    opacity: 1 !important;
    animation-fill-mode: both !important;
    animation-play-state: running !important;
  }
  
  /* Убеждаемся, что анимации работают */
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes slideIn {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
}

/* 6. Исправление копирования и кнопок на мобилке */
@media (max-width: 768px) {
  /* Исправление копирования текста */
  * {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1) !important;
    -webkit-user-select: text !important;
    -moz-user-select: text !important;
    -ms-user-select: text !important;
    user-select: text !important;
    touch-action: manipulation !important;
  }
  
  /* Исправление кнопок на мобилке */
  button,
  a[class*="button"],
  [role="button"],
  [onclick] {
    cursor: pointer !important;
    pointer-events: auto !important;
    touch-action: manipulation !important;
    -webkit-tap-highlight-color: rgba(0, 166, 81, 0.2) !important;
    min-height: 44px !important;
    min-width: 44px !important;
    padding: 12px 20px !important;
  }
  
  /* Улучшение кликабельности */
  button:active,
  a:active,
  [role="button"]:active {
    opacity: 0.8 !important;
    transform: scale(0.98) !important;
  }
  
  /* Исправление для кнопок копирования */
  [class*="copy"],
  [data-action*="copy"],
  button[title*="copy" i],
  button[title*="копировать" i] {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
  }
}

/* 7. Улучшение дизайна мобильного меню */
@media (max-width: 768px) {
  /* Меню */
  .mag-menu,
  [class*="menu"],
  [class*="nav"],
  [class*="toolbar"] {
    background-color: rgba(255, 255, 255, 0.98) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1) !important;
    border-radius: 0 !important;
    padding: 16px !important;
  }
  
  /* Кнопка меню */
  [class*="menu-button"],
  [class*="hamburger"],
  [aria-label*="Menu" i] {
    width: 44px !important;
    height: 44px !important;
    padding: 10px !important;
    border-radius: 8px !important;
    background-color: rgba(0, 0, 0, 0.05) !important;
    transition: all 0.3s ease !important;
  }
  
  [class*="menu-button"]:active,
  [class*="hamburger"]:active {
    background-color: rgba(0, 0, 0, 0.1) !important;
    transform: scale(0.95) !important;
  }
  
  /* Элементы меню */
  [class*="menu"] a,
  [class*="menu"] button,
  [class*="nav"] a,
  [class*="nav"] button {
    padding: 14px 16px !important;
    margin: 4px 0 !important;
    border-radius: 8px !important;
    font-size: 16px !important;
    line-height: 1.5 !important;
    transition: all 0.3s ease !important;
    display: block !important;
    width: 100% !important;
    text-align: left !important;
  }
  
  [class*="menu"] a:hover,
  [class*="menu"] a:active,
  [class*="menu"] button:hover,
  [class*="menu"] button:active {
    background-color: rgba(0, 166, 81, 0.1) !important;
    color: #00a651 !important;
  }
  
  /* Иконки в меню */
  [class*="menu"] svg,
  [class*="menu"] img {
    width: 20px !important;
    height: 20px !important;
    margin-right: 12px !important;
    vertical-align: middle !important;
  }
}

/* Дополнительные исправления для плавности */
html {
  scroll-behavior: smooth !important;
}

body {
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
}

/* Исправление overflow для кнопок */
button,
a[class*="button"] {
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}
